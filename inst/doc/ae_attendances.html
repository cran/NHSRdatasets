<!DOCTYPE html>

<html>

<head>

<meta charset="utf-8" />
<meta name="generator" content="pandoc" />
<meta http-equiv="X-UA-Compatible" content="IE=EDGE" />

<meta name="viewport" content="width=device-width, initial-scale=1" />

<meta name="author" content="Tom Jemmett, The Strategy Unit" />


<title>ae_attendances dataset</title>

<script src="data:application/javascript;base64,Ly8gUGFuZG9jIDIuOSBhZGRzIGF0dHJpYnV0ZXMgb24gYm90aCBoZWFkZXIgYW5kIGRpdi4gV2UgcmVtb3ZlIHRoZSBmb3JtZXIgKHRvCi8vIGJlIGNvbXBhdGlibGUgd2l0aCB0aGUgYmVoYXZpb3Igb2YgUGFuZG9jIDwgMi44KS4KZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcignRE9NQ29udGVudExvYWRlZCcsIGZ1bmN0aW9uKGUpIHsKICB2YXIgaHMgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCJkaXYuc2VjdGlvbltjbGFzcyo9J2xldmVsJ10gPiA6Zmlyc3QtY2hpbGQiKTsKICB2YXIgaSwgaCwgYTsKICBmb3IgKGkgPSAwOyBpIDwgaHMubGVuZ3RoOyBpKyspIHsKICAgIGggPSBoc1tpXTsKICAgIGlmICghL15oWzEtNl0kL2kudGVzdChoLnRhZ05hbWUpKSBjb250aW51ZTsgIC8vIGl0IHNob3VsZCBiZSBhIGhlYWRlciBoMS1oNgogICAgYSA9IGguYXR0cmlidXRlczsKICAgIHdoaWxlIChhLmxlbmd0aCA+IDApIGgucmVtb3ZlQXR0cmlidXRlKGFbMF0ubmFtZSk7CiAgfQp9KTsK"></script>

<style type="text/css">
  code{white-space: pre-wrap;}
  span.smallcaps{font-variant: small-caps;}
  span.underline{text-decoration: underline;}
  div.column{display: inline-block; vertical-align: top; width: 50%;}
  div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
  ul.task-list{list-style: none;}
    </style>


<style type="text/css">
  code {
    white-space: pre;
  }
  .sourceCode {
    overflow: visible;
  }
</style>
<style type="text/css" data-origin="pandoc">
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */

</style>
<script>
// apply pandoc div.sourceCode style to pre.sourceCode instead
(function() {
  var sheets = document.styleSheets;
  for (var i = 0; i < sheets.length; i++) {
    if (sheets[i].ownerNode.dataset["origin"] !== "pandoc") continue;
    try { var rules = sheets[i].cssRules; } catch (e) { continue; }
    for (var j = 0; j < rules.length; j++) {
      var rule = rules[j];
      // check if there is a div.sourceCode rule
      if (rule.type !== rule.STYLE_RULE || rule.selectorText !== "div.sourceCode") continue;
      var style = rule.style.cssText;
      // check if color or background-color is set
      if (rule.style.color === '' && rule.style.backgroundColor === '') continue;
      // replace div.sourceCode by a pre.sourceCode rule
      sheets[i].deleteRule(j);
      sheets[i].insertRule('pre.sourceCode{' + style + '}', j);
    }
  }
})();
</script>




<link rel="stylesheet" href="data:text/css,body%20%7B%0Abackground%2Dcolor%3A%20%23fff%3B%0Amargin%3A%201em%20auto%3B%0Amax%2Dwidth%3A%20700px%3B%0Aoverflow%3A%20visible%3B%0Apadding%2Dleft%3A%202em%3B%0Apadding%2Dright%3A%202em%3B%0Afont%2Dfamily%3A%20%22Open%20Sans%22%2C%20%22Helvetica%20Neue%22%2C%20Helvetica%2C%20Arial%2C%20sans%2Dserif%3B%0Afont%2Dsize%3A%2014px%3B%0Aline%2Dheight%3A%201%2E35%3B%0A%7D%0A%23TOC%20%7B%0Aclear%3A%20both%3B%0Amargin%3A%200%200%2010px%2010px%3B%0Apadding%3A%204px%3B%0Awidth%3A%20400px%3B%0Aborder%3A%201px%20solid%20%23CCCCCC%3B%0Aborder%2Dradius%3A%205px%3B%0Abackground%2Dcolor%3A%20%23f6f6f6%3B%0Afont%2Dsize%3A%2013px%3B%0Aline%2Dheight%3A%201%2E3%3B%0A%7D%0A%23TOC%20%2Etoctitle%20%7B%0Afont%2Dweight%3A%20bold%3B%0Afont%2Dsize%3A%2015px%3B%0Amargin%2Dleft%3A%205px%3B%0A%7D%0A%23TOC%20ul%20%7B%0Apadding%2Dleft%3A%2040px%3B%0Amargin%2Dleft%3A%20%2D1%2E5em%3B%0Amargin%2Dtop%3A%205px%3B%0Amargin%2Dbottom%3A%205px%3B%0A%7D%0A%23TOC%20ul%20ul%20%7B%0Amargin%2Dleft%3A%20%2D2em%3B%0A%7D%0A%23TOC%20li%20%7B%0Aline%2Dheight%3A%2016px%3B%0A%7D%0Atable%20%7B%0Amargin%3A%201em%20auto%3B%0Aborder%2Dwidth%3A%201px%3B%0Aborder%2Dcolor%3A%20%23DDDDDD%3B%0Aborder%2Dstyle%3A%20outset%3B%0Aborder%2Dcollapse%3A%20collapse%3B%0A%7D%0Atable%20th%20%7B%0Aborder%2Dwidth%3A%202px%3B%0Apadding%3A%205px%3B%0Aborder%2Dstyle%3A%20inset%3B%0A%7D%0Atable%20td%20%7B%0Aborder%2Dwidth%3A%201px%3B%0Aborder%2Dstyle%3A%20inset%3B%0Aline%2Dheight%3A%2018px%3B%0Apadding%3A%205px%205px%3B%0A%7D%0Atable%2C%20table%20th%2C%20table%20td%20%7B%0Aborder%2Dleft%2Dstyle%3A%20none%3B%0Aborder%2Dright%2Dstyle%3A%20none%3B%0A%7D%0Atable%20thead%2C%20table%20tr%2Eeven%20%7B%0Abackground%2Dcolor%3A%20%23f7f7f7%3B%0A%7D%0Ap%20%7B%0Amargin%3A%200%2E5em%200%3B%0A%7D%0Ablockquote%20%7B%0Abackground%2Dcolor%3A%20%23f6f6f6%3B%0Apadding%3A%200%2E25em%200%2E75em%3B%0A%7D%0Ahr%20%7B%0Aborder%2Dstyle%3A%20solid%3B%0Aborder%3A%20none%3B%0Aborder%2Dtop%3A%201px%20solid%20%23777%3B%0Amargin%3A%2028px%200%3B%0A%7D%0Adl%20%7B%0Amargin%2Dleft%3A%200%3B%0A%7D%0Adl%20dd%20%7B%0Amargin%2Dbottom%3A%2013px%3B%0Amargin%2Dleft%3A%2013px%3B%0A%7D%0Adl%20dt%20%7B%0Afont%2Dweight%3A%20bold%3B%0A%7D%0Aul%20%7B%0Amargin%2Dtop%3A%200%3B%0A%7D%0Aul%20li%20%7B%0Alist%2Dstyle%3A%20circle%20outside%3B%0A%7D%0Aul%20ul%20%7B%0Amargin%2Dbottom%3A%200%3B%0A%7D%0Apre%2C%20code%20%7B%0Abackground%2Dcolor%3A%20%23f7f7f7%3B%0Aborder%2Dradius%3A%203px%3B%0Acolor%3A%20%23333%3B%0Awhite%2Dspace%3A%20pre%2Dwrap%3B%20%0A%7D%0Apre%20%7B%0Aborder%2Dradius%3A%203px%3B%0Amargin%3A%205px%200px%2010px%200px%3B%0Apadding%3A%2010px%3B%0A%7D%0Apre%3Anot%28%5Bclass%5D%29%20%7B%0Abackground%2Dcolor%3A%20%23f7f7f7%3B%0A%7D%0Acode%20%7B%0Afont%2Dfamily%3A%20Consolas%2C%20Monaco%2C%20%27Courier%20New%27%2C%20monospace%3B%0Afont%2Dsize%3A%2085%25%3B%0A%7D%0Ap%20%3E%20code%2C%20li%20%3E%20code%20%7B%0Apadding%3A%202px%200px%3B%0A%7D%0Adiv%2Efigure%20%7B%0Atext%2Dalign%3A%20center%3B%0A%7D%0Aimg%20%7B%0Abackground%2Dcolor%3A%20%23FFFFFF%3B%0Apadding%3A%202px%3B%0Aborder%3A%201px%20solid%20%23DDDDDD%3B%0Aborder%2Dradius%3A%203px%3B%0Aborder%3A%201px%20solid%20%23CCCCCC%3B%0Amargin%3A%200%205px%3B%0A%7D%0Ah1%20%7B%0Amargin%2Dtop%3A%200%3B%0Afont%2Dsize%3A%2035px%3B%0Aline%2Dheight%3A%2040px%3B%0A%7D%0Ah2%20%7B%0Aborder%2Dbottom%3A%204px%20solid%20%23f7f7f7%3B%0Apadding%2Dtop%3A%2010px%3B%0Apadding%2Dbottom%3A%202px%3B%0Afont%2Dsize%3A%20145%25%3B%0A%7D%0Ah3%20%7B%0Aborder%2Dbottom%3A%202px%20solid%20%23f7f7f7%3B%0Apadding%2Dtop%3A%2010px%3B%0Afont%2Dsize%3A%20120%25%3B%0A%7D%0Ah4%20%7B%0Aborder%2Dbottom%3A%201px%20solid%20%23f7f7f7%3B%0Amargin%2Dleft%3A%208px%3B%0Afont%2Dsize%3A%20105%25%3B%0A%7D%0Ah5%2C%20h6%20%7B%0Aborder%2Dbottom%3A%201px%20solid%20%23ccc%3B%0Afont%2Dsize%3A%20105%25%3B%0A%7D%0Aa%20%7B%0Acolor%3A%20%230033dd%3B%0Atext%2Ddecoration%3A%20none%3B%0A%7D%0Aa%3Ahover%20%7B%0Acolor%3A%20%236666ff%3B%20%7D%0Aa%3Avisited%20%7B%0Acolor%3A%20%23800080%3B%20%7D%0Aa%3Avisited%3Ahover%20%7B%0Acolor%3A%20%23BB00BB%3B%20%7D%0Aa%5Bhref%5E%3D%22http%3A%22%5D%20%7B%0Atext%2Ddecoration%3A%20underline%3B%20%7D%0Aa%5Bhref%5E%3D%22https%3A%22%5D%20%7B%0Atext%2Ddecoration%3A%20underline%3B%20%7D%0A%0Acode%20%3E%20span%2Ekw%20%7B%20color%3A%20%23555%3B%20font%2Dweight%3A%20bold%3B%20%7D%20%0Acode%20%3E%20span%2Edt%20%7B%20color%3A%20%23902000%3B%20%7D%20%0Acode%20%3E%20span%2Edv%20%7B%20color%3A%20%2340a070%3B%20%7D%20%0Acode%20%3E%20span%2Ebn%20%7B%20color%3A%20%23d14%3B%20%7D%20%0Acode%20%3E%20span%2Efl%20%7B%20color%3A%20%23d14%3B%20%7D%20%0Acode%20%3E%20span%2Ech%20%7B%20color%3A%20%23d14%3B%20%7D%20%0Acode%20%3E%20span%2Est%20%7B%20color%3A%20%23d14%3B%20%7D%20%0Acode%20%3E%20span%2Eco%20%7B%20color%3A%20%23888888%3B%20font%2Dstyle%3A%20italic%3B%20%7D%20%0Acode%20%3E%20span%2Eot%20%7B%20color%3A%20%23007020%3B%20%7D%20%0Acode%20%3E%20span%2Eal%20%7B%20color%3A%20%23ff0000%3B%20font%2Dweight%3A%20bold%3B%20%7D%20%0Acode%20%3E%20span%2Efu%20%7B%20color%3A%20%23900%3B%20font%2Dweight%3A%20bold%3B%20%7D%20%0Acode%20%3E%20span%2Eer%20%7B%20color%3A%20%23a61717%3B%20background%2Dcolor%3A%20%23e3d2d2%3B%20%7D%20%0A" type="text/css" />




</head>

<body>




<h1 class="title toc-ignore">ae_attendances dataset</h1>
<h4 class="author"><a href="mailto:thomas.jemmett@nhs.net">Tom Jemmett</a>, <a href="https://www.strategyunitwm.nhs.uk/">The Strategy Unit</a></h4>
<h4 class="date">15/08/2019</h4>



<p>This vignette explains how to use the <code>ae_attendances</code> dataset in R, and also details where it comes from and how it is generated.</p>
<p>The data is sourced from <a href="https://www.england.nhs.uk/statistics/statistical-work-areas/ae-waiting-times-and-activity/">NHS England Statistical Work Areas</a> and is available under the <a href="https://www.nationalarchives.gov.uk/doc/open-government-licence/version/3/">Open Government Licence v3.0</a>.</p>
<p>The data contains all reported A&amp;E attendances for the period April 2016 through March 2019</p>
<p>The dataset contains:</p>
<ul>
<li><strong>period</strong>: the month that this activity relates to, stored as a date (1st of each month)</li>
<li><strong>org_code</strong>: the <a href="https://digital.nhs.uk/services/organisation-data-service">ODS</a> code for the organisation that this activity relates to</li>
<li><strong>type</strong>: the <a href="https://web.archive.org/web/20200128111444/https://www.datadictionary.nhs.uk/data_dictionary/attributes/a/acc/accident_and_emergency_department_type_de.asp">Department Type</a> for this activity, either 1, 2, or other</li>
<li><strong>attendances</strong>: the number of attendances for this department type at this organisation for this month</li>
<li><strong>breaches</strong>: the number of attendances that breached the 4 hour target</li>
<li><strong>admissions</strong>: the number of attendances that resulted in an admission to the hospital</li>
</ul>
<p>First let’s load some packages and the dataset and show the first 10 rows of data.</p>
<div class="sourceCode" id="cb1"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb1-1"><a href="#cb1-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(knitr)</span>
<span id="cb1-2"><a href="#cb1-2" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(scales)</span>
<span id="cb1-3"><a href="#cb1-3" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(ggrepel)</span>
<span id="cb1-4"><a href="#cb1-4" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(lubridate)</span>
<span id="cb1-5"><a href="#cb1-5" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; </span></span>
<span id="cb1-6"><a href="#cb1-6" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; Attaching package: &#39;lubridate&#39;</span></span>
<span id="cb1-7"><a href="#cb1-7" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; The following objects are masked from &#39;package:base&#39;:</span></span>
<span id="cb1-8"><a href="#cb1-8" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; </span></span>
<span id="cb1-9"><a href="#cb1-9" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;     date, intersect, setdiff, union</span></span>
<span id="cb1-10"><a href="#cb1-10" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(dplyr)</span>
<span id="cb1-11"><a href="#cb1-11" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(forcats)</span>
<span id="cb1-12"><a href="#cb1-12" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(tidyr)</span>
<span id="cb1-13"><a href="#cb1-13" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; </span></span>
<span id="cb1-14"><a href="#cb1-14" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; Attaching package: &#39;tidyr&#39;</span></span>
<span id="cb1-15"><a href="#cb1-15" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; The following objects are masked from &#39;package:Matrix&#39;:</span></span>
<span id="cb1-16"><a href="#cb1-16" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; </span></span>
<span id="cb1-17"><a href="#cb1-17" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;     expand, pack, unpack</span></span>
<span id="cb1-18"><a href="#cb1-18" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-19"><a href="#cb1-19" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(NHSRdatasets)</span>
<span id="cb1-20"><a href="#cb1-20" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-21"><a href="#cb1-21" aria-hidden="true" tabindex="-1"></a><span class="fu">data</span>(<span class="st">&quot;ae_attendances&quot;</span>)</span>
<span id="cb1-22"><a href="#cb1-22" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-23"><a href="#cb1-23" aria-hidden="true" tabindex="-1"></a><span class="co"># format for display</span></span>
<span id="cb1-24"><a href="#cb1-24" aria-hidden="true" tabindex="-1"></a>ae_attendances <span class="sc">%&gt;%</span></span>
<span id="cb1-25"><a href="#cb1-25" aria-hidden="true" tabindex="-1"></a>  <span class="co"># set the period column to show in Month-Year format</span></span>
<span id="cb1-26"><a href="#cb1-26" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate_at</span>(<span class="fu">vars</span>(period), format, <span class="st">&quot;%b-%y&quot;</span>) <span class="sc">%&gt;%</span> </span>
<span id="cb1-27"><a href="#cb1-27" aria-hidden="true" tabindex="-1"></a>  <span class="co"># set the numeric columns to have a comma at the 1000&#39;s place</span></span>
<span id="cb1-28"><a href="#cb1-28" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate_at</span>(<span class="fu">vars</span>(attendances, breaches, admissions), comma) <span class="sc">%&gt;%</span></span>
<span id="cb1-29"><a href="#cb1-29" aria-hidden="true" tabindex="-1"></a>  <span class="co"># show the first 10 rows</span></span>
<span id="cb1-30"><a href="#cb1-30" aria-hidden="true" tabindex="-1"></a>  <span class="fu">head</span>(<span class="dv">10</span>) <span class="sc">%&gt;%</span></span>
<span id="cb1-31"><a href="#cb1-31" aria-hidden="true" tabindex="-1"></a>  <span class="co"># format as a table</span></span>
<span id="cb1-32"><a href="#cb1-32" aria-hidden="true" tabindex="-1"></a>  <span class="fu">kable</span>()</span></code></pre></div>
<table>
<thead>
<tr class="header">
<th align="left">period</th>
<th align="left">org_code</th>
<th align="left">type</th>
<th align="left">attendances</th>
<th align="left">breaches</th>
<th align="left">admissions</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="left">Mar-17</td>
<td align="left">RF4</td>
<td align="left">1</td>
<td align="left">21,289.0</td>
<td align="left">2,879.0</td>
<td align="left">5,060.0</td>
</tr>
<tr class="even">
<td align="left">Mar-17</td>
<td align="left">RF4</td>
<td align="left">2</td>
<td align="left">813.0</td>
<td align="left">22.0</td>
<td align="left">0.0</td>
</tr>
<tr class="odd">
<td align="left">Mar-17</td>
<td align="left">RF4</td>
<td align="left">other</td>
<td align="left">2,850.0</td>
<td align="left">6.0</td>
<td align="left">0.0</td>
</tr>
<tr class="even">
<td align="left">Mar-17</td>
<td align="left">R1H</td>
<td align="left">1</td>
<td align="left">30,210.0</td>
<td align="left">5,902.0</td>
<td align="left">6,943.0</td>
</tr>
<tr class="odd">
<td align="left">Mar-17</td>
<td align="left">R1H</td>
<td align="left">2</td>
<td align="left">807.0</td>
<td align="left">11.0</td>
<td align="left">0.0</td>
</tr>
<tr class="even">
<td align="left">Mar-17</td>
<td align="left">R1H</td>
<td align="left">other</td>
<td align="left">11,352.0</td>
<td align="left">136.0</td>
<td align="left">0.0</td>
</tr>
<tr class="odd">
<td align="left">Mar-17</td>
<td align="left">AD913</td>
<td align="left">other</td>
<td align="left">4,381.0</td>
<td align="left">2.0</td>
<td align="left">0.0</td>
</tr>
<tr class="even">
<td align="left">Mar-17</td>
<td align="left">RYX</td>
<td align="left">other</td>
<td align="left">19,562.0</td>
<td align="left">258.0</td>
<td align="left">0.0</td>
</tr>
<tr class="odd">
<td align="left">Mar-17</td>
<td align="left">RQM</td>
<td align="left">1</td>
<td align="left">17,414.0</td>
<td align="left">2,030.0</td>
<td align="left">3,597.0</td>
</tr>
<tr class="even">
<td align="left">Mar-17</td>
<td align="left">RQM</td>
<td align="left">other</td>
<td align="left">7,817.0</td>
<td align="left">86.0</td>
<td align="left">0.0</td>
</tr>
</tbody>
</table>
<p>We can calculate the 4 hours performance for England as a whole like so:</p>
<div class="sourceCode" id="cb2"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb2-1"><a href="#cb2-1" aria-hidden="true" tabindex="-1"></a>england_performance <span class="ot">&lt;-</span> ae_attendances <span class="sc">%&gt;%</span></span>
<span id="cb2-2"><a href="#cb2-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(period) <span class="sc">%&gt;%</span></span>
<span id="cb2-3"><a href="#cb2-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarise_at</span>(<span class="fu">vars</span>(attendances, breaches), sum) <span class="sc">%&gt;%</span></span>
<span id="cb2-4"><a href="#cb2-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">performance =</span> <span class="dv">1</span> <span class="sc">-</span> breaches <span class="sc">/</span> attendances)</span>
<span id="cb2-5"><a href="#cb2-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-6"><a href="#cb2-6" aria-hidden="true" tabindex="-1"></a><span class="co"># format for display</span></span>
<span id="cb2-7"><a href="#cb2-7" aria-hidden="true" tabindex="-1"></a>england_performance <span class="sc">%&gt;%</span> </span>
<span id="cb2-8"><a href="#cb2-8" aria-hidden="true" tabindex="-1"></a>  <span class="co"># same format options as above</span></span>
<span id="cb2-9"><a href="#cb2-9" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate_at</span>(<span class="fu">vars</span>(period), format, <span class="st">&quot;%b-%y&quot;</span>) <span class="sc">%&gt;%</span> </span>
<span id="cb2-10"><a href="#cb2-10" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate_at</span>(<span class="fu">vars</span>(attendances, breaches), comma) <span class="sc">%&gt;%</span></span>
<span id="cb2-11"><a href="#cb2-11" aria-hidden="true" tabindex="-1"></a>  <span class="co"># this time show the performance column as a percentage</span></span>
<span id="cb2-12"><a href="#cb2-12" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate_at</span>(<span class="fu">vars</span>(performance), percent) <span class="sc">%&gt;%</span></span>
<span id="cb2-13"><a href="#cb2-13" aria-hidden="true" tabindex="-1"></a>  <span class="co"># show the first 10 rows and format as a table</span></span>
<span id="cb2-14"><a href="#cb2-14" aria-hidden="true" tabindex="-1"></a>  <span class="fu">head</span>(<span class="dv">10</span>) <span class="sc">%&gt;%</span></span>
<span id="cb2-15"><a href="#cb2-15" aria-hidden="true" tabindex="-1"></a>  <span class="fu">kable</span>()</span></code></pre></div>
<table>
<thead>
<tr class="header">
<th align="left">period</th>
<th align="left">attendances</th>
<th align="left">breaches</th>
<th align="left">performance</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="left">Apr-16</td>
<td align="left">1,867,781</td>
<td align="left">186,122</td>
<td align="left">90.0351%</td>
</tr>
<tr class="even">
<td align="left">May-16</td>
<td align="left">2,070,340</td>
<td align="left">201,329</td>
<td align="left">90.2756%</td>
</tr>
<tr class="odd">
<td align="left">Jun-16</td>
<td align="left">1,958,802</td>
<td align="left">184,912</td>
<td align="left">90.5599%</td>
</tr>
<tr class="even">
<td align="left">Jul-16</td>
<td align="left">2,079,034</td>
<td align="left">201,973</td>
<td align="left">90.2852%</td>
</tr>
<tr class="odd">
<td align="left">Aug-16</td>
<td align="left">1,932,901</td>
<td align="left">174,419</td>
<td align="left">90.9763%</td>
</tr>
<tr class="even">
<td align="left">Sep-16</td>
<td align="left">1,952,464</td>
<td align="left">182,597</td>
<td align="left">90.6479%</td>
</tr>
<tr class="odd">
<td align="left">Oct-16</td>
<td align="left">2,001,816</td>
<td align="left">219,137</td>
<td align="left">89.0531%</td>
</tr>
<tr class="even">
<td align="left">Nov-16</td>
<td align="left">1,907,871</td>
<td align="left">221,713</td>
<td align="left">88.3790%</td>
</tr>
<tr class="odd">
<td align="left">Dec-16</td>
<td align="left">1,944,567</td>
<td align="left">268,818</td>
<td align="left">86.1759%</td>
</tr>
<tr class="even">
<td align="left">Jan-17</td>
<td align="left">1,895,272</td>
<td align="left">281,612</td>
<td align="left">85.1413%</td>
</tr>
</tbody>
</table>
<p>We can now plot the monthly performance</p>
<div class="sourceCode" id="cb3"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb3-1"><a href="#cb3-1" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(england_performance, <span class="fu">aes</span>(period, performance)) <span class="sc">+</span></span>
<span id="cb3-2"><a href="#cb3-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_line</span>() <span class="sc">+</span></span>
<span id="cb3-3"><a href="#cb3-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_point</span>() <span class="sc">+</span></span>
<span id="cb3-4"><a href="#cb3-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_y_continuous</span>(<span class="at">labels =</span> percent) <span class="sc">+</span></span>
<span id="cb3-5"><a href="#cb3-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">x =</span> <span class="st">&quot;Month of attendance&quot;</span>,</span>
<span id="cb3-6"><a href="#cb3-6" aria-hidden="true" tabindex="-1"></a>       <span class="at">y =</span> <span class="st">&quot;% of attendances that met the 4 hour standard&quot;</span>,</span>
<span id="cb3-7"><a href="#cb3-7" aria-hidden="true" tabindex="-1"></a>       <span class="at">title =</span> <span class="st">&quot;NHS England A&amp;E 4 Hour Performance&quot;</span>,</span>
<span id="cb3-8"><a href="#cb3-8" aria-hidden="true" tabindex="-1"></a>       <span class="at">caption =</span> <span class="st">&quot;Source: NHS England Statistical Work Areas (OGL v3.0)&quot;</span>)</span></code></pre></div>
<p><img src="data:image/png;base64,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" /><!-- --></p>
<p>We can clearly see the “Winter Pressures” where performance drops.</p>
<p>We can also inspect performance for the <a href="https://web.archive.org/web/20200128111444/https://www.datadictionary.nhs.uk/data_dictionary/attributes/a/acc/accident_and_emergency_department_type_de.asp">different types of department</a>:</p>
<div class="sourceCode" id="cb4"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb4-1"><a href="#cb4-1" aria-hidden="true" tabindex="-1"></a>ae_attendances <span class="sc">%&gt;%</span></span>
<span id="cb4-2"><a href="#cb4-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(period, type) <span class="sc">%&gt;%</span></span>
<span id="cb4-3"><a href="#cb4-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarise_if</span>(is.numeric, sum) <span class="sc">%&gt;%</span></span>
<span id="cb4-4"><a href="#cb4-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">performance =</span> <span class="dv">1</span> <span class="sc">-</span> breaches <span class="sc">/</span> attendances) <span class="sc">%&gt;%</span></span>
<span id="cb4-5"><a href="#cb4-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggplot</span>(<span class="fu">aes</span>(period, performance, <span class="at">colour =</span> type)) <span class="sc">+</span></span>
<span id="cb4-6"><a href="#cb4-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_line</span>() <span class="sc">+</span></span>
<span id="cb4-7"><a href="#cb4-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_point</span>() <span class="sc">+</span></span>
<span id="cb4-8"><a href="#cb4-8" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_y_continuous</span>(<span class="at">labels =</span> percent) <span class="sc">+</span></span>
<span id="cb4-9"><a href="#cb4-9" aria-hidden="true" tabindex="-1"></a>  <span class="co">#facet_wrap(vars(type), nrow = 1) +</span></span>
<span id="cb4-10"><a href="#cb4-10" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme</span>(<span class="at">legend.position =</span> <span class="st">&quot;bottom&quot;</span>) <span class="sc">+</span></span>
<span id="cb4-11"><a href="#cb4-11" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">x =</span> <span class="st">&quot;Month of attendance&quot;</span>,</span>
<span id="cb4-12"><a href="#cb4-12" aria-hidden="true" tabindex="-1"></a>       <span class="at">y =</span> <span class="st">&quot;% of attendances that met the 4 hour standard&quot;</span>,</span>
<span id="cb4-13"><a href="#cb4-13" aria-hidden="true" tabindex="-1"></a>       <span class="at">title =</span> <span class="st">&quot;NHS England A&amp;E 4 Hour Performance&quot;</span>,</span>
<span id="cb4-14"><a href="#cb4-14" aria-hidden="true" tabindex="-1"></a>       <span class="at">subtitle =</span> <span class="st">&quot;By Department Type&quot;</span>,</span>
<span id="cb4-15"><a href="#cb4-15" aria-hidden="true" tabindex="-1"></a>       <span class="at">caption =</span> <span class="st">&quot;Source: NHS England Statistical Work Areas (OGL v3.0)&quot;</span>)</span></code></pre></div>
<p><img src="data:image/png;base64,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" /><!-- --></p>
<p>From this it appears as if only the type 1 departments have the seasonal drops, type 2 and “other” departments remain pretty consistent.</p>
<div id="what-are-the-best-and-worst-trusts-for-performance" class="section level2">
<h2>What are the best and worst trusts for performance?</h2>
<p>We could create a similar table of data for performance by each individual trust, but it would be useful to only look at trusts that have a type 1 department as it appears from the chart above that these departments have the largest variation.</p>
<div class="sourceCode" id="cb5"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb5-1"><a href="#cb5-1" aria-hidden="true" tabindex="-1"></a>performance_by_trust <span class="ot">&lt;-</span> ae_attendances <span class="sc">%&gt;%</span></span>
<span id="cb5-2"><a href="#cb5-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(org_code, period) <span class="sc">%&gt;%</span></span>
<span id="cb5-3"><a href="#cb5-3" aria-hidden="true" tabindex="-1"></a>  <span class="co"># make sure that this trust has a type 1 department</span></span>
<span id="cb5-4"><a href="#cb5-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(<span class="fu">any</span>(type <span class="sc">==</span> <span class="dv">1</span>)) <span class="sc">%&gt;%</span></span>
<span id="cb5-5"><a href="#cb5-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarise_at</span>(<span class="fu">vars</span>(attendances, breaches), sum) <span class="sc">%&gt;%</span></span>
<span id="cb5-6"><a href="#cb5-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">performance =</span> <span class="dv">1</span> <span class="sc">-</span> breaches <span class="sc">/</span> attendances)</span>
<span id="cb5-7"><a href="#cb5-7" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb5-8"><a href="#cb5-8" aria-hidden="true" tabindex="-1"></a><span class="co"># format for display</span></span>
<span id="cb5-9"><a href="#cb5-9" aria-hidden="true" tabindex="-1"></a>performance_by_trust <span class="sc">%&gt;%</span></span>
<span id="cb5-10"><a href="#cb5-10" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate_at</span>(<span class="fu">vars</span>(period), format, <span class="st">&quot;%b-%y&quot;</span>) <span class="sc">%&gt;%</span> </span>
<span id="cb5-11"><a href="#cb5-11" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate_at</span>(<span class="fu">vars</span>(attendances, breaches), comma) <span class="sc">%&gt;%</span></span>
<span id="cb5-12"><a href="#cb5-12" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate_at</span>(<span class="fu">vars</span>(performance), percent) <span class="sc">%&gt;%</span></span>
<span id="cb5-13"><a href="#cb5-13" aria-hidden="true" tabindex="-1"></a>  <span class="fu">head</span>(<span class="dv">10</span>) <span class="sc">%&gt;%</span></span>
<span id="cb5-14"><a href="#cb5-14" aria-hidden="true" tabindex="-1"></a>  <span class="fu">kable</span>()</span></code></pre></div>
<table>
<thead>
<tr class="header">
<th align="left">org_code</th>
<th align="left">period</th>
<th align="left">attendances</th>
<th align="left">breaches</th>
<th align="left">performance</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="left">R0A</td>
<td align="left">Oct-17</td>
<td align="left">35,744.0</td>
<td align="left">3,663.0</td>
<td align="left">89.7521%</td>
</tr>
<tr class="even">
<td align="left">R0A</td>
<td align="left">Nov-17</td>
<td align="left">34,314.0</td>
<td align="left">3,982.0</td>
<td align="left">88.3954%</td>
</tr>
<tr class="odd">
<td align="left">R0A</td>
<td align="left">Dec-17</td>
<td align="left">34,082.0</td>
<td align="left">5,430.0</td>
<td align="left">84.0678%</td>
</tr>
<tr class="even">
<td align="left">R0A</td>
<td align="left">Jan-18</td>
<td align="left">33,758.0</td>
<td align="left">4,906.0</td>
<td align="left">85.4671%</td>
</tr>
<tr class="odd">
<td align="left">R0A</td>
<td align="left">Feb-18</td>
<td align="left">30,520.0</td>
<td align="left">4,111.0</td>
<td align="left">86.5301%</td>
</tr>
<tr class="even">
<td align="left">R0A</td>
<td align="left">Mar-18</td>
<td align="left">35,233.0</td>
<td align="left">5,496.0</td>
<td align="left">84.4010%</td>
</tr>
<tr class="odd">
<td align="left">R0A</td>
<td align="left">Apr-18</td>
<td align="left">33,127.0</td>
<td align="left">3,809.0</td>
<td align="left">88.5018%</td>
</tr>
<tr class="even">
<td align="left">R0A</td>
<td align="left">May-18</td>
<td align="left">35,797.0</td>
<td align="left">4,792.0</td>
<td align="left">86.6134%</td>
</tr>
<tr class="odd">
<td align="left">R0A</td>
<td align="left">Jun-18</td>
<td align="left">34,070.0</td>
<td align="left">3,616.0</td>
<td align="left">89.3866%</td>
</tr>
<tr class="even">
<td align="left">R0A</td>
<td align="left">Jul-18</td>
<td align="left">35,081.0</td>
<td align="left">4,723.0</td>
<td align="left">86.5369%</td>
</tr>
</tbody>
</table>
<p>From this table we can calculate the overall performance by each trust and then organise the trusts by their overall performance.</p>
<div class="sourceCode" id="cb6"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb6-1"><a href="#cb6-1" aria-hidden="true" tabindex="-1"></a>performance_by_trust_ranking <span class="ot">&lt;-</span> performance_by_trust <span class="sc">%&gt;%</span></span>
<span id="cb6-2"><a href="#cb6-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarise</span>(<span class="at">performance =</span> <span class="dv">1</span> <span class="sc">-</span> <span class="fu">sum</span>(breaches) <span class="sc">/</span> <span class="fu">sum</span>(attendances)) <span class="sc">%&gt;%</span></span>
<span id="cb6-3"><a href="#cb6-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">arrange</span>(performance) <span class="sc">%&gt;%</span></span>
<span id="cb6-4"><a href="#cb6-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">pull</span>(org_code) <span class="sc">%&gt;%</span></span>
<span id="cb6-5"><a href="#cb6-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">as.character</span>()</span>
<span id="cb6-6"><a href="#cb6-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb6-7"><a href="#cb6-7" aria-hidden="true" tabindex="-1"></a><span class="fu">print</span>(<span class="st">&quot;Bottom 5&quot;</span>)</span>
<span id="cb6-8"><a href="#cb6-8" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [1] &quot;Bottom 5&quot;</span></span>
<span id="cb6-9"><a href="#cb6-9" aria-hidden="true" tabindex="-1"></a><span class="fu">head</span>(performance_by_trust_ranking, <span class="dv">5</span>)</span>
<span id="cb6-10"><a href="#cb6-10" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [1] &quot;RQW&quot; &quot;RWD&quot; &quot;RXW&quot; &quot;RX1&quot; &quot;RHU&quot;</span></span>
<span id="cb6-11"><a href="#cb6-11" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb6-12"><a href="#cb6-12" aria-hidden="true" tabindex="-1"></a><span class="fu">print</span>(<span class="st">&quot;Top 5&quot;</span>)</span>
<span id="cb6-13"><a href="#cb6-13" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [1] &quot;Top 5&quot;</span></span>
<span id="cb6-14"><a href="#cb6-14" aria-hidden="true" tabindex="-1"></a><span class="fu">tail</span>(performance_by_trust_ranking, <span class="dv">5</span>)</span>
<span id="cb6-15"><a href="#cb6-15" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [1] &quot;RA4&quot; &quot;RBD&quot; &quot;RVW&quot; &quot;RCU&quot; &quot;RC9&quot;</span></span></code></pre></div>
<div class="sourceCode" id="cb7"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb7-1"><a href="#cb7-1" aria-hidden="true" tabindex="-1"></a>performance_by_trust <span class="sc">%&gt;%</span></span>
<span id="cb7-2"><a href="#cb7-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ungroup</span>() <span class="sc">%&gt;%</span></span>
<span id="cb7-3"><a href="#cb7-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate_at</span>(<span class="fu">vars</span>(org_code), fct_relevel, performance_by_trust_ranking) <span class="sc">%&gt;%</span></span>
<span id="cb7-4"><a href="#cb7-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(org_code <span class="sc">%in%</span> <span class="fu">c</span>(<span class="fu">head</span>(performance_by_trust_ranking, <span class="dv">5</span>),</span>
<span id="cb7-5"><a href="#cb7-5" aria-hidden="true" tabindex="-1"></a>                         <span class="fu">tail</span>(performance_by_trust_ranking, <span class="dv">5</span>))) <span class="sc">%&gt;%</span></span>
<span id="cb7-6"><a href="#cb7-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggplot</span>(<span class="fu">aes</span>(period, performance)) <span class="sc">+</span></span>
<span id="cb7-7"><a href="#cb7-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_line</span>() <span class="sc">+</span></span>
<span id="cb7-8"><a href="#cb7-8" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_point</span>() <span class="sc">+</span></span>
<span id="cb7-9"><a href="#cb7-9" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_y_continuous</span>(<span class="at">labels =</span> percent) <span class="sc">+</span></span>
<span id="cb7-10"><a href="#cb7-10" aria-hidden="true" tabindex="-1"></a>  <span class="fu">facet_wrap</span>(<span class="fu">vars</span>(org_code), <span class="at">nrow =</span> <span class="dv">2</span>) <span class="sc">+</span></span>
<span id="cb7-11"><a href="#cb7-11" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme</span>(<span class="at">legend.position =</span> <span class="st">&quot;bottom&quot;</span>) <span class="sc">+</span></span>
<span id="cb7-12"><a href="#cb7-12" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">x =</span> <span class="st">&quot;Month of attendance&quot;</span>,</span>
<span id="cb7-13"><a href="#cb7-13" aria-hidden="true" tabindex="-1"></a>       <span class="at">y =</span> <span class="st">&quot;% of attendances that met the 4 hour standard&quot;</span>,</span>
<span id="cb7-14"><a href="#cb7-14" aria-hidden="true" tabindex="-1"></a>       <span class="at">title =</span> <span class="st">&quot;NHS England A&amp;E 4 Hour Performance&quot;</span>,</span>
<span id="cb7-15"><a href="#cb7-15" aria-hidden="true" tabindex="-1"></a>       <span class="at">subtitle =</span> <span class="st">&quot;Bottom 5/Top 5 over the whole 3 years&quot;</span>,</span>
<span id="cb7-16"><a href="#cb7-16" aria-hidden="true" tabindex="-1"></a>       <span class="at">caption =</span> <span class="st">&quot;Source: NHS England Statistical Work Areas (OGL v3.0)&quot;</span>)</span></code></pre></div>
<p><img src="data:image/png;base64,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" /><!-- --></p>
</div>
<div id="benchmarking" class="section level2">
<h2>Benchmarking</h2>
<p>It is sometimes useful to see how an organisation stacks up against all of the other organisations. Below we create a chart where each organisation is shown as a point, ordered by performance from left (highest performance) to right (lowest) performance.</p>
<p>It’s useful to indicate certain organisations on the chart, below I am showing the 3 organisations that are at the lower quartile, median and upper quartile, however you could change this to instead pick out specific organisations (using a reference table and <code>left_join</code> or hard coding with <code>case_when</code>).</p>
<div class="sourceCode" id="cb8"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb8-1"><a href="#cb8-1" aria-hidden="true" tabindex="-1"></a>ae_attendances <span class="sc">%&gt;%</span></span>
<span id="cb8-2"><a href="#cb8-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(period <span class="sc">==</span> <span class="fu">last</span>(period)) <span class="sc">%&gt;%</span></span>
<span id="cb8-3"><a href="#cb8-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(org_code) <span class="sc">%&gt;%</span></span>
<span id="cb8-4"><a href="#cb8-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(<span class="fu">any</span>(type <span class="sc">==</span> <span class="dv">1</span>)) <span class="sc">%&gt;%</span></span>
<span id="cb8-5"><a href="#cb8-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarise_at</span>(<span class="fu">vars</span>(attendances, breaches), sum) <span class="sc">%&gt;%</span></span>
<span id="cb8-6"><a href="#cb8-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">performance =</span> <span class="dv">1</span> <span class="sc">-</span> breaches<span class="sc">/</span>attendances,</span>
<span id="cb8-7"><a href="#cb8-7" aria-hidden="true" tabindex="-1"></a>         <span class="at">overall_performance =</span> <span class="dv">1</span> <span class="sc">-</span> <span class="fu">sum</span>(breaches)<span class="sc">/</span><span class="fu">sum</span>(attendances),</span>
<span id="cb8-8"><a href="#cb8-8" aria-hidden="true" tabindex="-1"></a>         <span class="at">org_code =</span> <span class="fu">fct_reorder</span>(org_code, <span class="sc">-</span>performance)) <span class="sc">%&gt;%</span></span>
<span id="cb8-9"><a href="#cb8-9" aria-hidden="true" tabindex="-1"></a>  <span class="co">#</span></span>
<span id="cb8-10"><a href="#cb8-10" aria-hidden="true" tabindex="-1"></a>  <span class="fu">arrange</span>(performance) <span class="sc">%&gt;%</span></span>
<span id="cb8-11"><a href="#cb8-11" aria-hidden="true" tabindex="-1"></a>  <span class="co"># lets highlight the organsiations that are at the lower and upper quartile</span></span>
<span id="cb8-12"><a href="#cb8-12" aria-hidden="true" tabindex="-1"></a>  <span class="co"># and at the median. First &quot;tile&quot; the data into 4 groups, then we use the</span></span>
<span id="cb8-13"><a href="#cb8-13" aria-hidden="true" tabindex="-1"></a>  <span class="co"># lag function to check to see if the value changes between rows. We will get</span></span>
<span id="cb8-14"><a href="#cb8-14" aria-hidden="true" tabindex="-1"></a>  <span class="co"># NA for the first row, so replace this with FALSE</span></span>
<span id="cb8-15"><a href="#cb8-15" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">highlight =</span> <span class="fu">ntile</span>(<span class="at">n =</span> <span class="dv">4</span>),</span>
<span id="cb8-16"><a href="#cb8-16" aria-hidden="true" tabindex="-1"></a>         <span class="at">highlight =</span> <span class="fu">replace_na</span>(highlight <span class="sc">!=</span> <span class="fu">lag</span>(highlight), <span class="cn">FALSE</span>)) <span class="sc">%&gt;%</span></span>
<span id="cb8-17"><a href="#cb8-17" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb8-18"><a href="#cb8-18" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggplot</span>(<span class="fu">aes</span>(org_code, performance)) <span class="sc">+</span></span>
<span id="cb8-19"><a href="#cb8-19" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_hline</span>(<span class="fu">aes</span>(<span class="at">yintercept =</span> overall_performance)) <span class="sc">+</span></span>
<span id="cb8-20"><a href="#cb8-20" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_point</span>(<span class="fu">aes</span>(<span class="at">fill =</span> highlight), <span class="at">show.legend =</span> <span class="cn">FALSE</span>, <span class="at">pch =</span> <span class="dv">21</span>) <span class="sc">+</span></span>
<span id="cb8-21"><a href="#cb8-21" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_text_repel</span>(<span class="fu">aes</span>(<span class="at">label =</span> <span class="fu">ifelse</span>(highlight, <span class="fu">as.character</span>(org_code), <span class="cn">NA</span>)),</span>
<span id="cb8-22"><a href="#cb8-22" aria-hidden="true" tabindex="-1"></a>                  <span class="at">na.rm =</span> <span class="cn">TRUE</span>) <span class="sc">+</span></span>
<span id="cb8-23"><a href="#cb8-23" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_fill_manual</span>(<span class="at">values =</span> <span class="fu">c</span>(<span class="st">&quot;TRUE&quot;</span> <span class="ot">=</span> <span class="st">&quot;black&quot;</span>,</span>
<span id="cb8-24"><a href="#cb8-24" aria-hidden="true" tabindex="-1"></a>                               <span class="st">&quot;FALSE&quot;</span> <span class="ot">=</span> <span class="cn">NA</span>)) <span class="sc">+</span></span>
<span id="cb8-25"><a href="#cb8-25" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_y_continuous</span>(<span class="at">labels =</span> percent) <span class="sc">+</span></span>
<span id="cb8-26"><a href="#cb8-26" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme_minimal</span>() <span class="sc">+</span></span>
<span id="cb8-27"><a href="#cb8-27" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme</span>(<span class="at">panel.grid =</span> <span class="fu">element_blank</span>(),</span>
<span id="cb8-28"><a href="#cb8-28" aria-hidden="true" tabindex="-1"></a>        <span class="at">axis.text.x =</span> <span class="fu">element_blank</span>(),</span>
<span id="cb8-29"><a href="#cb8-29" aria-hidden="true" tabindex="-1"></a>        <span class="at">axis.line =</span> <span class="fu">element_line</span>(),</span>
<span id="cb8-30"><a href="#cb8-30" aria-hidden="true" tabindex="-1"></a>        <span class="at">axis.ticks.y =</span> <span class="fu">element_line</span>())</span></code></pre></div>
<p><img src="data:image/png;base64,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" /><!-- --></p>
</div>



<!-- code folding -->


<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    script.src  = "https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML";
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>

</body>
</html>
